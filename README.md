# Tengri News Clone 
Проект был написан в рамках 2-этапа отбора в nFactorial Incubator

## Update
Были внесены некоторые изменения в проект после дедлайна.

[Здесь](https://github.com/Zhassulan1/TengriClone/tree/521e7c71f0cb69a1331c48350e8fd8d5b4c80055) версия проекта которая соответствует дедлайну. Также эту весию можно найти в ветке [stable](https://github.com/Zhassulan1/TengriClone/tree/stable) (последнее обновление README в строке `cd TengriClone/back/TengriClone` должен быть front вместо back)

В последнем коммите все работает как надо пагинация, поиск и теперь данные не загружаются с локальной базы данных, а динамически парсятся с [Tengrinews.kz](https://tengrinews.kz).

Я бы не продолжал доделывать проект, но после того как Я не смог сделать пагинацию, мне самому стало интересно как модно было решить эту проблему и я продолжил искать способы. В итоге получилось.



## Как настроить и запустить

```
git clone https://github.com/Zhassulan1/TengriClone.git
cd TengriClone/back/TengriClone

python -m pip install Django==5.0.4
pip install selenium
pip install beautifulsoup4
pip install djangorestframework

python manage.py runserver

// с другого окна
cd TengriClone/front/TengriClone
npm install
npm start

```

Для запуска требуется наличие браузера Chrome. Без него Web-Driver не сможет запуститься.


## Процесс проектирования и разработки 
В качестве бэк-енд фреймворка был выбран Django, а в качестве фронт-енд фреймворка был выбран Angular.
Разработка на Angular заняло существенно больше времени чем ожидалось. 

Процесс разработки сопровождался большим количеством ошибок и трудностей. Чаще всего требующих знаний особенностей фреймворка. К примеру Я столкнулся с данной проблемой: https://stackoverflow.com/questions/77512654/angular-detected-that-httpclient-is-not-configured-to-use-fetch-apis-angul
несколько часов пытался найти ошибку в бэк-енде и в сервисе который получает данные с бэка или в красных логах ошибок от Angular. Но проблема решиласть за одну строчку кода.

Одной из проблем было то что сами разработчики TengriNews не везде имели стандарты, например в некоторых местах медиафайлы указываются через относительные ссылки а в других местах через абсолютные ссылки. Поэтому при парсинге данных с сайта было необходимо учитывать это и парсить ссылки разными способами.

На 2-уровне был критерий - включить функцию сортировки по дате. Но при получений данных с https://tengrinews.kz данные сами приходят отсортированными по дате. Заново отсортировать смысла не было.  

## Компромиссы, принятые во время разработки
1. Данные не сохранюятся в базу данных а парсятся с сайта который может требовать до 30 секунд для загрузки всех необходимых элементов. Поэтому сайт может долго загружаться

2. Пагинация была пропущена так как Я не успел его реализовать из-за загруженного графика 

3. Поиск работает, но, часто чтобы совершить повторный поиск нужно обновить страницу. Возможно это из-за OnInit который вызывается только при загрузке страницы.
